<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/iron-ajax/iron-ajax.html">
<link rel="import" href="../bower_components/iron-list/iron-list.html">
<link rel="import" href="../bower_components/paper-card/paper-card.html">
<link rel="import" href="../bower_components/iron-flex-layout/iron-flex-layout.html">
<link rel="import" href="../bower_components/iron-icons/iron-icons.html">
<link rel="import" href="../bower_components/paper-icon-button/paper-icon-button.html">

<dom-module id="bite-cardlist">
    <template>
        <style>
            /* TODO proper styling */
            :host{
                margin: 0;
                height: 100%;
                display: flex;
                flex-direction: column;
            }
            paper-card{
                width: 100%;
                margin-bottom: 10px;
            }
            #list {
              flex: 1 1 auto;
              color: black;
            }
            .itemContainer {
              position: relative;
            }
            .item {
              display: block;
              padding: 10px;
              height: 72px;
            }
            .price{;
                color: black;
                font-weight: 200;
                opacity: 0.54;
                float: left;
                height: 20px;
            }
            .img{
                float: left;
                border-radius: 50%;
                width: 30px;
                height: 36px;
                margin-left: 8px;
                margin-right: 17px;
                margin-top: 17px;
                color: black;
            }
            .info{
              margin-top: 17px;
              width: 400px;
              display: block;
              float: left;
            }
            .name{
              float: left;
              height: 24px;
              width: 400px;
              font-size: 16px;
              font-family:Compasse;
              color: #292E35;
            }
            .image {
                display: block;
            }
            .functions{
                display: block;
                float: right;
            }
            .total{
              float: left;
              margin-top: 44px;
              color: #EC9630;
              font-size: 21px;
              font-family: Compasse;

            }
            .add{
              float: left;
              margin-top: 32px;
              color: #9b9b9b;
              height: 32px;
              margin-left: 8px;
            }
            .remove{
              float: left;
              margin-top: 32px;
              color: #9b9b9b;
              height: 32px;
              margin-right: 8px;
            }

        </style>



        <paper-card>
            <!-- <iron-list id="list" items="[[products]]" as="item"> -->
                <template id="list" is="dom-repeat" items="[[products]]" as="item">
                  <div class="itemContainer">
                    <div class="item" on-tap="_itemClick">
                        <paper-ripple centers fit style="color:lightgrey;"></paper-ripple>
                        <div class="image">
                            <img class="img" src="[[item.image]]" alt="Img">
                        </div>
                        <div class="info">
                            <div class="name">
                                [[item.name]]
                            </div>
                            <div class="price">
                                â‚¬[[item.price]]
                            </div>
                        </div>

                        <div class="functions">
                            <div class="remove">
                                <paper-icon-button icon="remove"></paper-icon-button>
                            </div>
                            <div class="total">
                                1
                            </div>
                            <div class="add">
                                <paper-icon-button icon="add"></paper-icon-button>
                            </div>
                        </div>
                      </div>
                  </div>
                </template>
           <!-- </iron-list> -->
        </paper-card>

    </template>

    <script>

            Polymer({
                is: 'bite-cardlist',

                properties: {
                  products: {
                    type: Array
                  }
                },

                attached: function () {
                    //top level docu as scrolltarget
                    var list = document.querySelector("iron-list");
                    this.$.list.scrollTarget = this.ownerDocument.documentElement;

                },
                _itemClick: function(e){
                  var data = e.model.get('item.name');
                  console.log(data);
                }
            });
    </script>
</dom-module>
